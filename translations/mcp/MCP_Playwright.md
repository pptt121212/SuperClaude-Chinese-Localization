# Playwright MCP服务器

**目的**: 浏览器自动化和E2E测试，具有真实的浏览器交互

## 触发器
- 浏览器测试和E2E测试场景
- 视觉测试、截图或UI验证请求
- 表单提交和用户交互测试
- 跨浏览器兼容性验证
- 需要真实浏览器渲染的性能测试
- 自动化WCAG合规性的可访问性测试

## 选择时机
- **对于真实浏览器交互**: 当需要实际渲染，而不仅仅是代码时
- **优于单元测试**: 用于集成测试、用户旅程、视觉验证
- **对于E2E场景**: 登录流程、表单提交、多页面工作流
- **对于视觉测试**: 截图比较、响应式设计验证
- **不用于代码分析**: 静态代码审查、语法检查、逻辑验证

## 最佳配合
- **Sequential**: Sequential规划测试策略 → Playwright执行浏览器自动化
- **Magic**: Magic创建UI组件 → Playwright验证可访问性和行为

## 示例
```
"测试登录流程" → Playwright (浏览器自动化)
"检查表单验证是否工作" → Playwright (真实用户交互)
"拍摄响应式设计的截图" → Playwright (视觉测试)
"验证可访问性合规性" → Playwright (自动化WCAG测试)
"审查此函数的逻辑" → 原生Claude (静态分析)
"解释认证代码" → 原生Claude (代码审查)
```

## 主要功能
- **浏览器自动化**: 跨浏览器的自动化测试和交互
- **E2E测试**: 完整的用户旅程和工作流测试
- **视觉测试**: 截图比较和视觉回归测试
- **可访问性测试**: 自动化WCAG合规性检查
- **性能测试**: 真实浏览器环境下的性能验证

## 浏览器自动化能力
### 跨浏览器支持
- Chrome、Firefox、Safari、Edge
- 移动设备模拟
- 不同浏览器版本测试
- 响应式设计验证

### 用户交互模拟
- 点击、输入、导航操作
- 拖拽和手势操作
- 文件上传和下载
- 表单提交和验证

### 页面操作
- 页面导航和历史管理
- 元素定位和操作
- 弹窗和对话框处理
- 多标签和窗口管理

## E2E测试功能
### 用户旅程测试
- 完整的用户注册流程
- 登录和认证流程
- 购物车和结账流程
- 多步骤表单提交

### 集成测试
- 前后端集成验证
- API调用和响应测试
- 数据库操作验证
- 第三方服务集成

### 回归测试
- 功能回归测试
- 视觉回归测试
- 性能回归测试
- 兼容性回归测试

## 视觉和可访问性测试
### 视觉回归
- 截图比较和差异检测
- 布局和样式验证
- 响应式设计测试
- 跨设备一致性检查

### 可访问性验证
- WCAG 2.1合规性检查
- 键盘导航测试
- 屏幕阅读器兼容性
- 颜色对比度验证

## 使用场景
### Web应用测试
```
需求: 测试完整的Web应用程序
使用: Playwright执行E2E测试
结果: 全面的功能验证
```

### 可访问性合规
```
需求: 确保应用符合可访问性标准
使用: Playwright进行自动化可访问性测试
结果: WCAG合规性验证
```

### 跨浏览器兼容性
```
需求: 验证应用在不同浏览器中的工作情况
使用: Playwright进行跨浏览器测试
结果: 多浏览器兼容性保证
```

## 优势
- **真实性**: 在真实浏览器环境中测试
- **全面性**: 覆盖功能、视觉、性能和可访问性
- **可靠性**: 稳定的测试执行和结果
- **效率**: 自动化测试节省时间和资源
- **标准化**: 遵循Web标准和最佳实践

## 局限性
- 专注于浏览器端测试，不处理后端逻辑
- 需要测试环境配置
- 执行时间相对较长
- 依赖稳定的网络和测试数据

## 与其他MCP服务器的比较
- **vs Sequential**: 浏览器自动化vs复杂分析
- **vs Magic**: 测试执行vs组件生成
- **vs Context7**: 测试自动化vs文档查找

## 典型工作流程
1. 规划测试策略和场景
2. 使用Playwright编写和执行测试
3. 分析测试结果和报告
4. 修复发现的问题
5. 验证修复并重新测试

## 最佳实践
- 在CI/CD流水线中集成自动化测试
- 使用页面对象模式管理测试代码
- 维护稳定的测试环境和数据
- 定期更新测试以适应应用变化
- 结合使用其他工具进行全面的测试覆盖